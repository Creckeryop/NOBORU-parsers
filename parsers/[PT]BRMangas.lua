BRMangas=Parser:new("BRMangas","https://www.brmangas.com","PRT","BRMANGASPT",1)local function a(b)if u8c then return b:gsub("&#([^;]-);",function(c)local d=tonumber("0"..c)or tonumber(c)return d and u8c(d)or"&#"..c..";"end):gsub("&([^;]-);",function(c)return HTML_entities and HTML_entities[c]and u8c(HTML_entities[c])or"&"..c..";"end)else return b end end;local function e(f)local g={}Threads.insertTask(g,{Type="StringRequest",Link=f,Table=g,Index="string"})while Threads.check(g)do coroutine.yield(false)end;return g.string or""end;function BRMangas:getManga(h,i)i.NoPages=true;for j,k,l in h:gmatch('class="item".-href="[^"]-/manga/(.-)/".-img[^>]-src="(.-)".-titulo[^"]-">(.-)</h2>')do i[#i+1]=CreateManga(a(l),j,k:gsub("%%","%%%%"),self.ID,self.Link.."/manga/"..j)i.NoPages=false;coroutine.yield(false)end end;function BRMangas:getPopularManga(m,i)local h=e(self.Link.."/page/"..m):match("Todos[^<]-os[^<]-<em>Mang√°s</em>(.-)$")or""self:getManga(h,i)end;function BRMangas:getLatestManga(m,i)local h=e(self.Link.."/category/mangas/page/"..m)self:getManga(h,i)end;function BRMangas:searchManga(n,m,i)local h=e(self.Link.."/page/"..m.."/?s="..n)self:getManga(h,i)end;function BRMangas:getChapters(o,i)local h=e(self.Link.."/manga/"..o.Link)i.Description=(h:match('manga_sinopse">.-</div>(.-)</div>')or""):gsub("<[^>]->",""):gsub("^\n+",""):gsub("\n+$","")for f,p in h:gmatch('row lista_ep.-href="[^"]-/ler/(.-)/"[^>]->(.-)</a>')do i[#i+1]={Name=a(p),Link=f,Pages={},Manga=o}end end;function BRMangas:prepareChapter(q,i)local h=e(self.Link.."/ler/"..q.Link):match('imageArray[^:]-":(.-)[\n\r]')or""for f in h:gmatch('\\"([^"]-)\\"')do i[#i+1]=f:gsub("\\/","/"):gsub("%%","%%%%")end end;function BRMangas:loadChapterPage(f,i)i.Link=f end